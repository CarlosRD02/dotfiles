# # Configuración Picom moderna corregida para XFCE4
# # Versión completa sin bordes transparentes raros en menús

# animations = (
#   {
#     triggers = [ "close", "hide" ];
#     preset = "disappear";
#     scale = 0.95;
#     duration = 0.1;
#   },
#   {
#     triggers = [ "open", "show" ];
#     preset = "appear";
#     scale = 0.95;
#     duration = 0.1;
#   },
#   {
#     triggers = [ "geometry" ];
#     preset = "geometry-change";
#     duration = 0.2;
#   }
# )

# #################################
# #           Backend             #
# #################################
 backend = "glx";
 glx-no-stencil = true;
 glx-no-rebind-pixmap = true;
 use-damage = true;
# vsync = true;

# #################################
# #           Shadows             #
# #################################
# shadow = true;
# shadow-offset-x = -8;
# shadow-offset-y = -8;
# #shadow-opacity = 0.3;
# shadow-radius = 7

# # Excluir sombras CORREGIDO para XFCE - CONKY AGREGADO
# shadow-exclude = [
#     "name = 'Notification'",
#     "class_g = 'Conky'",            # Conky sin sombras
#     "class_g ?= 'Notify-osd'",
#     "class_g = 'Xfce4-panel'",
#     "class_g = 'Xfwm4'",
#     "class_g *= 'menu'",
#     "class_g *= 'Menu'",
#     "class_g *= 'xfce4-popup-whiskermenu'",
#     "class_g = 'Polybar'",
#     "class_g = 'Rofi'",
#     "class_g = 'Plank'",
#     "class_g = 'Docky'",
#     "class_g = 'Cairo-dock'",
#     "class_g ?= 'Cairo-clock'",
#     "_GTK_FRAME_EXTENTS@:c",
#     "_NET_WM_STATE@:32a *= '_NET_WM_STATE_HIDDEN'",
#     "window_type *= 'dock'",
#     "window_type *= 'desktop'"
# ];

# #################################
# #           Opacity             #
# #################################
inactive-opacity = 1.0;
active-opacity = 1.0;
frame-opacity = 1.0;
inactive-opacity-override = false;

# # Configuración moderna para menús - CORREGIDA
# wintypes:
# {
#     tooltip = { 
#         opacity = 1.0;
#         fade = true;
#         shadow = false;
#         focus = true;
#     };
#     popup_menu = { 
#         opacity = 1.0;
#         shadow = false;
#     };
#     dropdown_menu = { 
#         opacity = 1.0;
#         shadow = false;
#     };
#     utility = {
#         opacity = 1.0;
#         shadow = false;
#     };
#     dock = {
#         shadow = false;
#         opacity = 0.95;
#     };
#     desktop = {
#         shadow = false;
#         opacity = 1.0;
#     };
#     normal = {
#         opacity = 1.0;
#         shadow = true;
#     };
# };

# # Reglas de opacidad ESPECÍFICAS - CONKY CORREGIDO
# opacity-rule = [
#     # CONKY - completamente transparente
#     "0:class_g = 'Conky'",          # Conky 100% transparente
    
#     # SOLO el panel tiene transparencia
#     "70:class_g = 'Xfce4-panel'",
    
#     # Elementos del sistema XFCE - SÓLIDOS
#     "100:class_g = 'Xfwm4'",
#     "100:class_g = 'Xfdesktop'",
#     "100:class_g = 'Xfce4-notifyd'",
    
     # Todos los menús - SÓLIDOS
#     "100:class_g *= 'menu'",
#     "100:class_g *= 'Menu'",
#     "100:class_g = 'xfce4-popup-whiskermenu'",
#     "100:class_g *= 'Whisker'",
    
#     # Aplicaciones de sistema - SÓLIDOS
#     "80:class_g = 'Thunar'",
#     "100:class_g = 'Xfce4-terminal'",
#     "100:class_g = 'Xfce4-appfinder'",
#     "100:class_g = 'Xfce4-power-manager'",
#     "100:class_g = 'Xfce4-settings'",
    
#     # Navegadores - SÓLIDOS
#     "100:class_g = 'Firefox'",
#     "100:class_g = 'Google-chrome'",
#     "100:class_g = 'Chromium'",
    
#     # Terminales - casi sólidos
#     "85:class_g = 'Alacritty'",
#     "95:class_g = 'Terminator'",
#     "95:class_g = 'Gnome-terminal'",
    
#     # Editores de código
#     "100:class_g = 'code'",
#     "100:class_g = 'Code'",
#     "95:class_g = 'sublime_text'",
#     "95:class_g = 'Atom'"
# ];

# #################################
# #           Fading              #
# #################################
# fading = true;
# fade-delta = 3;
# fade-in-step = 0.03;
# fade-out-step = 0.03;

# # Excluir elementos del fading - CONKY AGREGADO
# fade-exclude = [
#     "class_g = 'Conky'",            # Conky sin fade
#     "class_g = 'Xfce4-panel'",
#     "class_g *= 'menu'",
#     "class_g = 'Xfwm4'",
#     "class_g = 'Xfdesktop'"
# ];

# #################################
# #          Corners              #
# #################################
corner-radius = 10;

 rounded-corners-exclude = [
    "window_type = 'dock'",
    "window_type = 'desktop'",
    "class_g = 'Xfce4-panel'",
    "class_g = 'Polybar'",
    "class_g = 'Plank'",
    "class_g = 'Conky'",            # Conky sin esquinas redondeadas
    "class_g = 'Docky'",
    "class_g *= 'menu'",
    "class_g = 'Xfwm4'",
    "class_g = 'Xfdesktop'",
    "class_g = 'Xfce4-notifyd'",
    "class_g = 'Rofi'"
 ];

# #################################
# #          Blur                 #
# #################################
# blur: {
#     method = "dual_kawase";
#     strength = 7;
#     background = true;
#     background-frame = false;
#     background-fixed = false;
#     kernel = "3x3box";
# }

# # Excluir blur CORREGIDO - CONKY AGREGADO
# blur-background-exclude = [
#     "window_type = 'dock'",
#     "window_type = 'desktop'",
#     "class_g = 'Xfce4-panel'",
#     "class_g = 'Polybar'",
#     "class_g = 'Rofi'",
#     "class_g = 'Plank'",
#     "class_g = 'Conky'",            # Conky sin blur - IMPORTANTE
#     "class_g = 'Docky'",
#     "class_g = 'Cairo-dock'",
#     "class_g *= 'menu'",
#     "class_g = 'Xfwm4'",
#     "class_g = 'Xfdesktop'",
#     "class_g = 'Xfce4-notifyd'",
#     "class_g ?= 'Notify-osd'",
#     "_GTK_FRAME_EXTENTS@:c"
# ];

# #################################
# #       Experimental            #
# #################################
# experimental-backends = true;

# # Focus exclude - CONKY AGREGADO
# focus-exclude = [
#     "class_g = 'Conky'",            # Conky no recibe foco
#     "class_g = 'Xfce4-panel'",
#     "class_g = 'Cairo-clock'",
#     "class_g *= 'menu'"
# ];

# # Resto de la configuración se mantiene igual...
# mark-wmwin-focused = true;
# mark-ovredir-focused = true;
# detect-rounded-corners = true;
# detect-client-opacity = true;
# use-ewmh-active-win = true;
# unredir-if-possible = false;
# xrender-sync-fence = true;
# inactive-dim = 0.0;
# clip-shadow-above = true;
# log-level = "warn";
# show-all-xerrors = false;

# wintypes:
# {
#     normal = { fade = true; shadow = true; opacity = 1.0; focus = true; };
#     dialog = { fade = true; shadow = true; opacity = 1.0; focus = true; };
#     menu = { fade = true; shadow = false; opacity = 1.0; focus = true; };
#     dropdown_menu = { fade = true; shadow = false; opacity = 1.0; focus = true; };
#     popup_menu = { fade = true; shadow = false; opacity = 1.0; focus = true; };
#     tooltip = { fade = true; shadow = false; opacity = 1.0; focus = true; };
#     notification = { fade = true; shadow = true; opacity = 1.0; focus = true; };
#     combo = { fade = true; shadow = true; opacity = 1.0; focus = true; };
#     dnd = { fade = true; shadow = true; opacity = 1.0; focus = true; };
#     toolbar = { fade = true; shadow = true; opacity = 1.0; focus = true; };
#     utility = { fade = true; shadow = true; opacity = 1.0; focus = true; };
#     splash = { fade = true; shadow = true; opacity = 1.0; focus = true; };
# };
